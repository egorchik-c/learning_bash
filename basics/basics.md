# Краткий конспект основ *bash*

В начале скрипта пишем 
```
#!/bin/bash
```

## Переменные
Создание переменных
```
var=5
echo "Число: $var" # Вывод: Число 5
echo 'Число: $var' # Вывод: Число $var

read Name # Ввод с клавиатуры
```

Сложение чисел
```
x=2
y=3
echo $x+$y # 2+3
echo $(($x+$y)) # 5
```

### Назначение параметров
Параметры в строке назначаются следющим образом:
```
$1 $2 $3 ..... $9 $[10] $[11] ....
```
### Важно
Знак $ работает со значением переменной, а без знака $ с именем

### Переменные окружения
- `BASH` — полный путь до исполняемого файла Bash;
- `BASH_VERSION` — версия Bash;
- `HOME` — домашний каталог текущего пользователя;
- `HOSTNAME` — имя компьютера (хоста);
- `RANDOM` — случайное число от 0 до 32767;
- `OSTYPE` — тип операционной системы (например, "linux-gnu");
- `PWD` — текущий рабочий каталог;
- `PS1` — строка приглашения (prompt) в интерактивном режиме;
- `UID` — числовой ID текущего пользователя;
- `USER` — имя текущего пользователя.

## Условный оператор if
### Базовая структура
```
if [ условие ]; then
    ....
    elif [ условие ]; then
        ....
    else
        ....
    ....
fi
```
### Операции в условиях
- -lt - меньше 
- -gt - больше
- -le - меньше или равно
- -ge - больше или равно 
- -eq - равно
- && - И
- || - ИЛИ
- -f - существование файла
- -d - существование директории
- == - строковое равенство
- != - строковое неравенство

## Условный оператор case
### Базовый синтаксис
```
case переменная in
    условие)
        команда 1;;
        ...
        команда n;;
    *) # default
        команда;;
esac
```

## Массивы
### Базовая структура
```
array1=(2 34 5 8)
array2=(34 3 five)
```
Вывод на экран
```
echo ${array[@]} # весь массив
echo ${array[0]} # первый элемент
echo ${array[-1]} # последний элемент
echo ${!array[@]} # индексы массива
echo ${#array[@]} # количество элементов
```

### Полезные функции
```
unset array[1] # удаление элемента
array+=(40) # добавление элемента
echo ${arr[@]:1:2} # срез 2 элеменов с индекса 1
```

### Перебор в цикле
```
for i in ${!array[@]}; do
    echo "${array[$i]}"
done
```

### Поиск элемента
```
if [[ "${arr[@]} " ~= "значение" ]]; then
    echo "Найдено"
fi
```

## Циклы 
### For
```
for переменная in список; do
    команды
done
```
Пример
```
for (( i=0; i<10; i++ )) in список; do
    ...
done
```

### While
```
while условие do
    команды;
done
```
 
Пример
```
while [ $n -lt 4 ] do
    echo "$n"
    n=$(( $n+1));
done
```

## Функции
Базовая структура
```
# Объявление
имя_функции() {
    команды;
} 

# Вызов
имя_функции $1 $2 ... $9 ... ${n}
```

Пример
```
list() {
    echo "Содержимое дирекории"
    cd ~/.script.sh
    ls;
}

# Вызов
list
```